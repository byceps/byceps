{% from 'macros/admin.html' import render_main_tabs as _render_main_tabs %}
{% from 'macros/icons.html' import render_icon %}
{% from 'macros/misc.html' import render_tag %}
{% from 'macros/user.html' import render_user_avatar_tiny %}


{% macro render_main_tabs_view(current_page, user_id) -%}
  {{
    _render_main_tabs(
      Navigation(None)
        .add_item(url_for('.view', user_id=user_id), 'Übersicht', id='user_admin.view', required_permission=UserPermission.view, icon='user')
        .add_item(url_for('.view_permissions', user_id=user_id), 'Berechtigungen', id='user_admin.view_permissions', required_permission=UserPermission.view, icon='permission')
        .add_item(url_for('.view_activity', user_id=user_id), 'Aktvität', id='user_admin.view_activity', required_permission=UserPermission.view, icon='history')
      , current_page
    )
  }}
{%- endmacro %}


{% macro render_user_admin_link(user) -%}
<a href="{{ url_for('user_admin.view', user_id=user.id) }}">{{ user.screen_name }}</a>
{%- endmacro %}


{% macro render_user_avatar_tiny_and_link(user) -%}
<span class="nowrap">{{ render_user_avatar_tiny(user) }} {{ render_user_admin_link(user) }}</span>
{%- endmacro %}


{% macro render_user_deleted_flag() -%}
  {{ render_tag(render_icon('delete') ~ ' gelöscht', class='notification-error') }}
{%- endmacro %}
